<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>asynchronouse</title>
    <style>
        .title{
            text-align: center;
        }
    </style>
</head>
<body>
    <h1 class="title">01. 비동기</h1>
    <hr>
    <pre>
        <h3>싱글스레드 와 멀티스레드...</h3>
        <b>** 자바스크립트는 자바와는 다르게 한 번에 
            하나의 태스크(과정) 만 실행할 수 있는 싱글
            스레드 방식으로 동작을 하게 된다. **
        </b>
        때문에 처리에 시간이 걸리는 태스크를 실행하는 경우
        블로킹(작업 중단)이 발생하게 된다.

        ex) 우리가 사진을 카톡에서 전송할 때 카톡도 보낼 수 있다. 
            이런게 멀티스레드 방식이고 여러 일을 할 때 한번에
            하나만 할수 있는게 싱글 스레드 이다.
    </pre>
    <hr>
    <pre>
        <h3>동기 처리란?...</h3>
        현재 실행 중인 태스크가 종료될 때까지 다음에
        실행 될 태스크가 대기하는 방식을 동기처리라고 한다.

        ex) 지금까지 알고있던 코드의 흐름 위에서부터 아래로 읽어가는것이 동기처리라고 한다.

        <b>장점 : </b>작업을 순서대로 하나씩 처리하기 때문에
                실행 순서의 보장을 할 수 있다.

        <b>단점 : </b> 앞선 작업이 끝날 때까지 뒤에 작업 불가능 
                 이런것 다른말로 블로킹이라고 한다.
            
    </pre>
    <hr>
    <script>
        function sleep(fuction, delay) {
            // 현재 시간 return
            const delayUntil = Date.now() + delay;

            // 루프로 시간 끌기
            while(Date.now < delayUntil);

            fuction();
        };

        function delay() {
            console.log('실행 시간을 늦추고 싶어요!!');
        };
        
        function start() {
            console.log('바로 실행되고 싶어요!!')
        };

        // sleep 함수는 3초 이상 실행이 된다.
        // sleep(delay, 3000);
        // start 함수는 먼저 실행되고 싶어도
        // sleep 함수가 끝날 때까지 대기할 수 밖에 없다.
        // start();
    </script>
    <pre>
        <h3>비동기 처리란?...</h3>
        현재 실행 중인 태스크(작업)가 종료 되지 않는 상태라고 해도
        다음 실행 할 태스크를 곧바로 실행하는 방식을
        <b>비동기 처리</b>라고 한다.
        <b>장점 : </b>작업이 블로킹 되지 않는다.
        <b>단점 : </b>실행 순서를 보장할 수 없다.
    </pre>
    <script>
        /*  
            setTimeout, setInterval, 이벤트 핸들러
            HTTP 요청 등은 비동기 처리 방식으로 동작한다.
        */
    //    sleep(delay, 3000) X
        setTimeout(delay, 3000);
        start();
    </script>
</body>
</html>